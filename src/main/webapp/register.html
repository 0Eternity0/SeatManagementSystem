<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>注册界面</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script>
     var vue=new vue({
         el:'#reg',
         data:{
             username:'',
             name:'',
             password:'',
             users:{},
             department:'',
             inited:true
         },

         dopost:function () {
             var url='User/register';
             var param=new URLSearchParams();
             param.append("username",this.username);
             param.append("password",this.password);
             param.append("users",this.users);
              axios.post(url,param).then(function (result) {
                  if(vue.inited){
                      vue.users=result.data.users;
                      vue.inited=false;
                      return;
                  }
                  if(result.data.msg.indexOf('用户名已存在')>=0){
                      alert('用户名已存在，注册失败');
                  }else{
                      alert('注册成功');
                      vue.users=result.data.users;
                      vue.inited=false;
                  }
              });

         },
     })


    </script>
</head>

<body>
    <div class="container" id="reg">
        <form action="#" method="post">
            <fieldset>
                <div class="col-lg-4 col-lg-offset-5 col-md-1 col-md-offset-7 col-sm-4 col-sm-offset-4 col-xs-9 col-xs-offset-4">
                    <h2>Register</h2>
                </div>
                <br>
                <br>
                <div class="form-group">
                    <label class="sr-only">number：</label>
                    <div class="col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-6 col-sm-7 col-sm-offset-3 col-xs-8 col-xs-offset-2">
                        <input type="text" class="form-control" id="username" placeholder="请输入学号"><br>
                    </div>
                </div>
                <div class="form-group">
                    <label class="sr-only">name：</label>
                    <div class="col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-6 col-sm-7 col-sm-offset-3 col-xs-8 col-xs-offset-2">
                        <input type="text" class="form-control" id="name" placeholder="请输入名字"><br>
                    </div>
                </div>
                <div class="form-group">
                    <label class="sr-only">password:</label>
                    <div class="col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-6 col-sm-7 col-sm-offset-3 col-xs-8 col-xs-offset-2">
                        <input type="password" class="form-control" id="password" placeholder="请输入密码"><br>
                    </div>
                </div>
                <div class="form-group">
                    <label class="sr-only">tel：</label>
                    <div class="col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-6 col-sm-7 col-sm-offset-3 col-xs-8 col-xs-offset-2">
                        <input type="text" class="form-control" id="tel" placeholder="请输入电话"><br>
                    </div>
                </div>
                <div class="form-group">
                    <div id="department" class="col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-6 col-sm-7 col-sm-offset-3 col-xs-8 col-xs-offset-2">
                        <select class="form-control">
                    <option>计算机科学学院</option>
                    <option>电气信息学院</option>
                    <option>化学化工工院</option>
                    <option>理学院</option>
                    <option>石油与天然气学院</option>
                    <option>地球科学与技术学院</option>
                    <option>机电工程学院</option>
                    <option>材料科学与工程学院</option>
                    <option>土木工程与建筑学院</option>
                    <option>经济管理学院</option>
                    <option>法学院</option>
                    <option>外国语学院</option>
                    <option>艺术学院</option>
                    <option>体育学院</option>
                </select>
                        <br>

                    </div>
                </div>
                <br>
                <div class="form-group">
                    <div class="col-lg-4 col-lg-offset-4 col-md-6 col-md-offset-6 col-sm-7 col-sm-offset-3 col-xs-8 col-xs-offset-2">
                        <button type="submit" class="btn" style="background-color:#186f4f;">注册</button>
                    </div>
                </div>
            </fieldset>
        </form>
    </div>


</body>

</html>